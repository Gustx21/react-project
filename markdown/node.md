# Node JS

**Node.js** √© um ambiente de execu√ß√£o JavaScript, constru√≠do sobre o motor JavaScript V8 do Google Chrome. Ele √© usado para desenvolver aplica√ß√µes de rede escal√°veis e r√°pidas. Node.js segue um modelo de I/O n√£o bloqueante e orientado a eventos, o que o torna leve e eficiente, perfeito para aplica√ß√µes de dados intensivos e em tempo real que s√£o executadas em dispositivos distribu√≠dos.

Node.js √© usado para uma variedade de tarefas, como a constru√ß√£o de servidores web, cria√ß√£o de scripts do lado do servidor e para a cria√ß√£o de APIs. Al√©m disso, o Node.js √© usado em conjunto com v√°rias outras tecnologias, como Express.js, AngularJS, e MongoDB, para criar aplica√ß√µes web completas.

Em rela√ß√£o ao JavaScript, Node.js pode ser usado em conjunto com este para criar aplica√ß√µes completas, pois permite que o JavaScript seja executado n√£o apenas no navegador, mas tamb√©m no servidor. Isso permite que os desenvolvedores usem o mesmo idioma tanto no front-end quanto no back-end, tornando o desenvolvimento mais consistente e eficiente.

Para saber mais sobre Node JS acesse: 

[https://youtu.be/GKR6uSvEj8w?feature=shared](https://youtu.be/GKR6uSvEj8w?feature=shared)

# M√≥dulos

S√£o pacotes de c√≥digos que podem ser organizados em um ou mais arquivos e que possuem escopo pr√≥prio. Os m√≥dulos permitem o compartilhamento de c√≥digo dentro da aplica√ß√£o, esse c√≥digo em quest√£o pode ser nativo do Node, criado por n√≥s ou at√© mesmo de terceiros. Existem tr√™s tipos de m√≥dulos no Node: internos, locais e de terceiros

- **Internos**
    
    M√≥dulos internos s√£o aqueles nativos do Node, ou seja, assim que o baixamos temos esses m√≥dulos dispon√≠veis. Alguns deles s√£o:¬†**fs**, **http**,¬†**url**, **script**,¬†**querystring**,¬†**util**¬†e¬†**os**.
    
- **Locais**
    
    M√≥dulos locais s√£o criados por n√≥s durante o desenvolvimento de um projeto, dessa forma podemos reutilizar o c√≥digo em diversos arquivos diferentes, bem como reutilizar em outro projeto.
    
- **Terceiros**
    
    M√≥dulos de terceiros s√£o pacotes criados e publicados pela comunidade e por via de regra s√£o disponibilizados no site oficial de pacotes do Node, o¬†[NPM](https://www.npmjs.com/).
    

# NPM

O *NPM* √© o reposit√≥rio oficial para a publica√ß√£o de pacotes Node, logo ele funciona como um grande¬†*"armaz√©m"*¬†para os pacotes, os disponibilizando para outras pessoas desenvolvedoras.

J√° a ferramenta do NPM no Node auxilia no gerenciamento dos pacotes, sejam eles pr√≥prios ou de terceiros, dessa forma realizar a instala√ß√£o e desinstala√ß√£o, por exemplo, fica muito simples.

### Comandos

- **npm init**
    
    Inicia um pacote Node na pasta onde o comando foi executado, gerando um arquivo package.json com as informa√ß√µes do pacote.
    
- **npm run**
    
    Executa um script previamente definido no arquivo package.json.
    
- **npm start**
    
    Executa o script espec√≠fico de start,¬†*normalmente vinculado a inicializa√ß√£o do projeto*.
    
- **npm install**
    
    Instala as depend√™ncias especificadas previamente no arquivo package.json, ou alguma depend√™ncia definida por n√≥s atrav√©s da linha de comando.
    

<aside>
üìå O arquivo ".gitignore" serve para n√£o incluir a pasta "node_modules" no¬†*Git*, quando salvarmos nosso projeto. Essa pasta s√≥ deve existir localmente, porque, sempre que fazemos a instala√ß√£o de um projeto, o¬†*NPM*¬†puxa os arquivos. Isso faz com que a pasta tenda a ficar muito grande. Por esta raz√£o, n√£o dever√° subir essa pasta para o¬†*Git*.

No c√≥digo do arquivo ".gitignore", adicione¬†`node_modules`. Caso esteja utilizando o sistema operacional¬†*macOS*¬†para desenvolver, adicione uma segunda linha com o arquivo¬†`.DS_Store`, um arquivo oculto desse sistema que guarda atributos visuais das pastas e outras informa√ß√µes.

</aside>

# **O que s√£o exatamente gerenciadores?**

Gerenciadores de pacotes s√£o reposit√≥rios de c√≥digo aberto nos quais devs disponibilizam solu√ß√µes para o uso da comunidade. Estas solu√ß√µes nada mais s√£o do que programas que outras pessoas desenvolveram e que utilizamos para ganhar tempo no desenvolvimento de nosso pr√≥prio c√≥digo, e v√£o desde¬†*libs*¬†(bibliotecas) pequenas e espec√≠ficas at√© frameworks com v√°rios recursos prontos. E um pacote √© como chamamos o conjunto do c√≥digo que determinada lib ou framework utiliza para executar.

Algumas dessas bibliotecas s√£o criadas por times de desenvolvimento para resolver algum problema espec√≠fico que tiveram que enfrentar. Depois elas s√£o disponibilizadas para que outras pessoas com o mesmo contratempo aproveitem e tamb√©m utilizem. Outras s√£o disponibilizadas por empresas de software que utilizam as plataformas dos gerenciadores (o NPM e o YARN) para a distribui√ß√£o de suas solu√ß√µes de c√≥digo. E sendo de c√≥digo aberto, isso significa que voc√™ tamb√©m pode criar e publicar a sua lib para outras pessoas baixarem e instalarem em seus projetos.

Sempre que trabalhamos com um projeto em Node.js do zero, uma das primeiras coisas que fazemos √© criar um arquivo¬†`package.json`¬†utilizando o comando¬†`npm init`; assim como para todas as instala√ß√µes de libs externas utilizamos o comando¬†`npm install <nome do pacote>`.

Ambos s√£o¬†**gerenciadores de pacotes**, sendo que NPM √© acr√¥nimo de¬†***Node Package Manager***, ou Gerenciador de Pacotes do Node.

# **Instala√ß√£o local vs global**

Estes pacotes de c√≥digo podem ser instalados¬†**localmente**, estando dispon√≠veis somente para o projeto no qual foi instalado atrav√©s da pasta¬†`node_modules`, e¬†**globalmente**, sendo instalados em um diret√≥rio geral do NPM e ficando dispon√≠veis para todos os projetos em seu computador, sem a necessidade de instalar separadamente em cada projeto.

Na maior parte das vezes, voc√™ vai utilizar a op√ß√£o local, com os comandos¬†`npm install <nome do pacote>`, pois fica mais f√°cil fazer o gerenciamento de vers√£o das libs que utilizamos e muitas vezes, um pacote que instalamos ‚Äúpuxa‚Äù um ou v√°rios outros pacotes auxiliares que ele precisa para funcionar. O ideal √© n√£o poluir o diret√≥rio global com libs que poder√£o ser utilizadas em somente um projeto.

Algumas libs e frameworks mais complexas v√£o solicitar que a instala√ß√£o seja feita globalmente para funcionar. Sempre vale a pena consultar a documenta√ß√£o de cada uma. Para fazer uma instala√ß√£o global de pacotes, utilizamos os comandos:

```
npm install -g <nome do pacote>
```

> A recomenda√ß√£o √© que a instala√ß√£o de pacotes seja feita¬†sempre localmente¬†(sem o¬†-g) e que a instala√ß√£o global s√≥ seja feita em casos espec√≠ficos - normalmente a documenta√ß√£o da ferramenta vai informar se isso √© necess√°rio.
> 

# Promises

S√£o objetos que representam o resultado eventual de uma opera√ß√£o ass√≠ncrona. Elas podem estar em um de tr√™s estados: pendente, resolvido ou rejeitado. Promises s√£o usadas para lidar com opera√ß√µes ass√≠ncronas, como leitura de arquivos ou solicita√ß√µes de rede, de maneira mais efetiva e leg√≠vel. Uma Promise √© criada usando o construtor `new Promise()`, que recebe uma fun√ß√£o com dois par√¢metros: `resolve` e `reject`, que s√£o chamados quando a Promise √© resolvida ou rejeitada, respectivamente.

## Async e Await

√â uma extens√£o das Promises e proporciona uma maneira mais simples e elegante de usar Promises, tornando o c√≥digo ass√≠ncrono mais f√°cil de escrever e ler. A palavra-chave `async` indica que uma fun√ß√£o retorna uma Promise. Dentro dessa fun√ß√£o, a palavra-chave `await` pode ser usada para esperar que uma Promise se resolva ou rejeite.

Para saber mais sobre *Promises* ou *Async e Await* acesse: [Promises](https://www.notion.so/Promises-1d5a2fa5b8fa48cbbdd27d3ccb2c741d?pvs=21)

# Express√µes Regulares

Express√µes regulares, tamb√©m conhecidas como RegEx, s√£o sequ√™ncias de caracteres que formam um padr√£o de pesquisa. Elas s√£o usadas principalmente para a busca de padr√µes em textos. O site [https://regex101.com/](https://regex101.com/) ajuda na pr√°tica sobre o uso do RegEx.

[Metacaracteres](https://www.notion.so/Metacaracteres-6b8b3b566afb4a658d3c93381fbb15c5?pvs=21)

# File System

O m√≥dulo `fs` (sistema de arquivos) √© uma parte essencial do Node.js, permitindo a intera√ß√£o com o sistema de arquivos do sistema operacional. Com ele, √© poss√≠vel realizar uma variedade de opera√ß√µes, desde a leitura e escrita de arquivos at√© a manipula√ß√£o de diret√≥rios. Este m√≥dulo fornece m√©todos s√≠ncronos e ass√≠ncronos para lidar com opera√ß√µes de arquivo, permitindo que os desenvolvedores escolham o estilo de programa√ß√£o que melhor se adapta √†s suas necessidades.

Nesse caso, n√£o √© preciso usar o¬†`npm install`, porque¬†*FS*¬†√© uma biblioteca nativa do¬†*Node.js*. Ela tamb√©m existe em outras linguagens, mas sempre com a mesma funcionalidade: possibilitar a intera√ß√£o entre linguagens de programa√ß√£o e arquivos do computador. Para import√°-la, use-se o m√©todo¬†`import`.

```jsx

import fs from 'node:fs';
const enconding = 'utf-8'

// O primeiro par√¢metro cont√©m o underline para representar que n√£o precisa usar
function callback(_, texto) {
	console.log(texto);
};

fs.readFile('./arquivos/texto.md', enconding, callback);
```

<aside>
üìå Enconding √© uma forma de representar caracteres e s√≠mbolos em um formato compreens√≠vel para computadores. Os computadores operam em linguagem bin√°ria, composta por zeros e uns, mas os seres humanos se comunicam usando uma variedade de caracteres, n√∫meros e s√≠mbolos. E s√£o utilizados diferentes encodings, cada encoding possui um conjunto espec√≠fico de regras para mapear caracteres para bytes, permitindo que os computadores compreendam e processem texto.

</aside>

[M√©todos FS](https://www.notion.so/M-todos-FS-5d6f177331aa497db913b60addd623f5?pvs=21)

# Path

O m√≥dulo `Path` no Node.js √© usado para lidar com manipula√ß√£o e tranform√ß√£o de caminhos de arquivo de forma segura e eficiente. Independentemente do sistema operacional, ele pode ser usado para tornar o c√≥digo port√°vel.

[M√≥dulo Path](https://www.notion.so/M-dulo-Path-51d9da7c00f74cdc81b85a3f6cd0e6ed?pvs=21)

# Criando Servidor (http)

No **Node JS** h√° v√°rias bibliotecas integradas e uma delas √© o *http* que tem v√°rios m√©todos de cria√ß√£o, altera√ß√£o, atualiza√ß√£o e remo√ß√£o de dados usando m√©todos espec√≠fico como **`get` **e uso de rotas para direcionar essas a√ß√µes.

```jsx
import {createServer} from 'node:http';

const server = createServer((request, response) => { 
    return response.end('Servidor rodando!');
})

server.listen(8081);
```

O m√©todo `listen` cria a porta do endere√ßo do servidor. Para saber mais sobre HTTP acesse: 

[Como funcionam os navegadores Web? #HipstersPontoTube](https://youtu.be/kDy62zaCHZE?feature=shared)

[M√©todos HTTP](https://www.notion.so/M-todos-HTTP-75ec8e5fc7f3473fa20eab7634ba3fea?pvs=21)

# Express

Express √© um framework para Node.js que fornece recursos fundamentais para a constru√ß√£o de aplica√ß√µes web e APIs. Ele simplifica o processo de constru√ß√£o de aplica√ß√µes web ao fornecer um conjunto robusto de recursos para lidar com rotas, solicita√ß√µes HTTP e visualiza√ß√µes, entre outras coisas.

Instalar o Express √© simples, voc√™ pode baix√°-lo usando o NPM (*Node Package Manager*), que √© o gerenciador de pacotes do Node.js. Para instalar o Express, voc√™ usaria o seguinte comando em seu terminal:

```
npm install express
```

Ap√≥s a instala√ß√£o, voc√™ pode importar e usar o Express em seu arquivo JavaScript da seguinte maneira:

```jsx
const express = require('express');

//Cria uma inst√¢ncia do express
const app = express();

//Define uma rota
app.get('/', function (req, res) {
  res.send('Ol√° Mundo!');
});

//Inicia o servidor na porta 3000
app.listen(3000, function () {
  console.log('Aplica√ß√£o escutando na porta 3000!');
});

```

O Express √© importante por sua efici√™ncia e facilidade de uso. Ele simplifica a cria√ß√£o e o gerenciamento de rotas em sua aplica√ß√£o, facilita a manipula√ß√£o de solicita√ß√µes HTTP e respostas, e ajuda na organiza√ß√£o do seu c√≥digo em um formato estruturado e f√°cil de entender.

[Rotas do Express](https://www.notion.so/Rotas-do-Express-04dfcca3a23d4289ba65fa0ccf8a706a?pvs=21)

## Status HTTP

**Cada n√∫mero corresponde a um status.**¬†Por exemplo, 200 indica que tudo ocorreu como esperado. Por outro lado, o 404 revela que algum recurso n√£o foi encontrado. Fazendo uma analogia: √© como se envi√°ssemos uma carta para uma casa que n√£o existe e o carteiro nos devolvesse a carta, dizendo "404 Casa N√£o Encontrada".

Os c√≥digos de status de resposta HTTP indicam se uma solicita√ß√£o¬†*HTTP*¬†espec√≠fica foi conclu√≠da com √™xito. As respostas s√£o agrupadas em cinco classes:

- Respostas Informativas¬†(`100`¬†‚Äì¬†`199`)
- Respostas bem-sucedidas¬†(`200`¬†‚Äì¬†`299`)
- Mensagens de redirecionamento¬†(`300`¬†‚Äì¬†`399`)
- Respostas de erro do cliente¬†(`400`¬†‚Äì¬†`499`)
- Respostas de erro do servidor¬†(`500`¬†‚Äì¬†`599`)

[C√≥digos de status de respostas HTTP - HTTP | MDN](https://developer.mozilla.org/pt-BR/docs/Web/HTTP/Status#respostas_informativas)

[Error comuns do NodeJS](https://www.notion.so/Error-comuns-do-NodeJS-85281a53a1134e6aa37a69c15ce86310?pvs=21)

### Comandos do Terminal

- Comando mkdir ou *Make Directory* (Fazer Diret√≥rio) cria pastas espec√≠ficas.
    
    ```
    C:\Users\Home\Desktop\JavaScript\Cadastro-JS> mkdir backend
    ```
    
- Comando type cria arquivos.
    
    ```
    C:\Users\Home\Desktop\JavaScript\Cadastro-JS\backend> type produtos.js
    ```
    
- O comando cd ou *Change Directory* (Mudar Diret√≥rio) navega at√© a pasta selecionada no terminal.
    
    ```
    // Acessando pasta
    C:\Users\Home\Desktop> cd JavaScript\Cadastro-JS\backend
    
    // Para voltar pasta
    C:\Users\Home\Desktop> cd ../../
    ```
    
- Depois de executar o comando, os arquivos do¬†*Chalk ser√£o puxados do reposit√≥rio do NPM*¬†para nosso terminal local. Logo, a pasta "node_modules" foi baixada. Dentro dela h√° a pasta "chalk", com os arquivos da biblioteca.
    
    ```
    npm install chalk@5.0.1 --save-exact
    ```
    
    Al√©m disso, recebemos os arquivos¬†`package-lock.json`, que controla as depend√™ncias e suas vers√µes, e¬†`package.json`, na parte de depend√™ncias, com a informa√ß√£o da vers√£o do¬†*Chalk*¬†instalada.
    
- Saber o ping:
    
    ```
    ping github.com
    ```